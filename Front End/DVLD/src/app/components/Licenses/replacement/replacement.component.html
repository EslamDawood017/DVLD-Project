<div class="container mt-5">

  <h2 class="text-center mb-4 header">Replacement for Damaged or Lost License</h2>

  <!-- Search Bar -->
<div class="row mb-4 bar">
  <div class="col-md-6 offset-md-3">
    <div class="input-group">
      <input
      [(ngModel)]="LicenseId"
        type="number"
        class="form-control"
        placeholder="Enter License ID"
      />
      <button (click)="getLicenseInfo()"  class="btn btn-outline-secondary" type="button" >
        <i class="fas fa-search"></i>
      </button>
    </div>
    <div *ngIf="isExpired && this.LicenseInfo?.isActive == 'True'" class="no-license">
      This license is not expired .. !
      </div>
      
      <div *ngIf="this.LicenseInfo?.isActive == 'False'" class="no-license">
      This license is not Active .. !
      </div>
      
      <div *ngIf="!this.found" class="no-license">
      license Not Found .. !
      </div>
  </div>
</div>

<div class="license-card" >
  <!-- Main Content -->
  <div  class="card-body">
    <!-- Left Section -->
    <div class="left-section">
      <div class="info-item">
        <i class="fas fa-id-card"></i> <strong>Class: </strong> <span> {{LicenseInfo?.className}} </span>
      </div>
      <div class="info-item">
        <i class="fas fa-user"></i> <strong>Name: </strong> <span > {{LicenseInfo?.fullName}} </span>
      </div>
      <div class="info-item">
        <i class="fas fa-hashtag"></i> <strong>License ID: </strong> <span> {{LicenseInfo?.licenseID}} </span>
      </div>
      <div class="info-item">
        <i class="fas fa-id-badge"></i> <strong>National No: </strong> <span> {{LicenseInfo?.nationalNo}} </span>
      </div>
      <div class="info-item">
        <i class="fas fa-venus-mars"></i> <strong>Gender: </strong> <span> {{LicenseInfo?.gender}} </span>
      </div>
      
      <div class="info-item">
        <i class="fas fa-birthday-cake"></i> <strong>Date of Birth: </strong> <span>{{LicenseInfo?.dateOfBirth | date : 'dd/MM/yyyy'}} </span>
      </div>
    </div>

    <!-- Right Section -->
    <div class="right-section">
      <div class="info-item">
        <i class="fas fa-check-circle"></i> <strong>Is Active? </strong> <span> {{LicenseInfo?.isActive}}</span>
      </div>
      
      <div class="info-item">
        <i class="fas fa-id-card-alt"></i> <strong>Driver ID: </strong> <span>{{LicenseInfo?.driverID}}</span>
      </div>
      <div class="info-item">
        <i class="fas fa-calendar-alt"></i> <strong>Issue Date: </strong> <span> {{LicenseInfo?.issueDate | date : 'dd/MM/yyyy' }}</span>
      </div>
      <div class="info-item">
        <i class="fas fa-calendar-alt"></i> <strong>Expiration Date: </strong> <span>{{LicenseInfo?.expirationDate | date : 'dd/MM/yyyy'}} </span>
      </div>
      <div class="info-item">
        <i class="fas fa-calendar-alt"></i> <strong>Issue Reason: </strong> <span>{{LicenseInfo?.issueReason}}</span>
      </div>
    </div>   
</div>
<!-- Replacement For Section -->
<div class="replacement-section w-50 p-3">
  <h5 class="mb-3  sub-title">
    <i class="fas fa-retweet me-2"></i> Replacement For:
  </h5>
  <div class="replacement-box bg-white shadow-sm p-3 rounded">
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="result" id="lost" value=3 [(ngModel)]="reasonId">
      <label class="form-check-label fw-bold text-secondary" for="lost">Lost</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="result" id="damaged" value=4 [(ngModel)]="reasonId">
      <label class="form-check-label fw-bold text-secondary" for="damaged">Damaged</label>
    </div>
  </div>
</div>

<div class="options d-flex flex-wrap  p-3">
  <!-- Note Section -->
  <div class="note-section w-100 p-3 sub-title">
    <h5 class="mb-3 ">
      <i class="fas fa-sticky-note me-2 sub-title"></i> Note:
    </h5>
    <div class="appointments-box bg-white shadow-sm p-3 rounded">
      <textarea name="Note" [(ngModel)]="note" class="form-control" id="note-area" rows="4" placeholder="Enter your notes..."></textarea>
    </div>
  </div>

  
</div>




<!-- Footer -->
<div class="footer d-flex justify-content-end align-items-center mt-4">
    
<button class="btn btn-secondary" (click)="Close()">
  <i class="fas fa-times me-2 "></i>Close
</button>
<button class="btn Issue "  [disabled]="isExpired || !LicenseInfo?.isActive || !this.found" (click)="Replace()">
  <i class="fas fa-check-circle me-2"></i>Issue Replacement
</button>
</div>
</div>