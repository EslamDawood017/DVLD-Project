<div class="container mt-5">

    <h2 class="text-center mb-4 header">Detain License</h2>
  
    <!-- Search Bar -->
  <div class="row mb-4 bar">
    <div class="col-md-6 offset-md-3">
      <div class="input-group">
        <input
        [(ngModel)]="LicenseId"
          type="number"
          class="form-control"
          placeholder="Enter License ID"
        />
        <button (click)="getLicenseInfo()"  class="btn btn-outline-secondary" type="button" >
          <i class="fas fa-search"></i>
        </button>
      </div>
      <div *ngIf="isExpired && this.licenseInfo?.isActive == 'True'" class="no-license">
        This license is not expired .. !
        </div>
        
        <div *ngIf="this.licenseInfo?.isActive == 'False'" class="no-license">
        This license is not Active .. !
        </div>
        
        <div *ngIf="!this.found" class="no-license">
        license Not Found .. !
        </div>
    </div>
  </div>
  
  <div class="license-card" >
    <!-- Main Content -->
    <div  class="card-body">
      <!-- Left Section -->
      <div class="left-section">
        <div class="info-item">
          <i class="fas fa-id-card"></i> <strong>Class: </strong> <span> {{licenseInfo?.className}} </span>
        </div>
        <div class="info-item">
          <i class="fas fa-user"></i> <strong>Name: </strong> <span > {{licenseInfo?.fullName}} </span>
        </div>
        <div class="info-item">
          <i class="fas fa-hashtag"></i> <strong>License ID: </strong> <span> {{licenseInfo?.licenseID}} </span>
        </div>
        <div class="info-item">
          <i class="fas fa-id-badge"></i> <strong>National No: </strong> <span> {{licenseInfo?.nationalNo}} </span>
        </div>
        <div class="info-item">
          <i class="fas fa-venus-mars"></i> <strong>Gender: </strong> <span> {{licenseInfo?.gender}} </span>
        </div>
        
        <div class="info-item">
          <i class="fas fa-birthday-cake"></i> <strong>Date of Birth: </strong> <span>{{licenseInfo?.dateOfBirth | date : 'dd/MM/yyyy'}} </span>
        </div>
      </div>
  
      <!-- Right Section -->
      <div class="right-section">
        <div class="info-item">
          <i class="fas fa-check-circle"></i> <strong>Is Active? </strong> <span> {{licenseInfo?.isActive}}</span>
        </div>
        
        <div class="info-item">
          <i class="fas fa-id-card-alt"></i> <strong>Driver ID: </strong> <span>{{licenseInfo?.driverID}}</span>
        </div>
        <div class="info-item">
          <i class="fas fa-calendar-alt"></i> <strong>Issue Date: </strong> <span> {{licenseInfo?.issueDate | date : 'dd/MM/yyyy' }}</span>
        </div>
        <div class="info-item">
          <i class="fas fa-calendar-alt"></i> <strong>Expiration Date: </strong> <span>{{licenseInfo?.expirationDate | date : 'dd/MM/yyyy'}} </span>
        </div>
        <div class="info-item">
          <i class="fas fa-calendar-alt"></i> <strong>Issue Reason: </strong> <span>{{licenseInfo?.issueReason}}</span>
        </div>
      </div>   
  </div>
  
  
  <div class="options d-flex flex-wrap  p-3">
    <!-- Note Section -->
    <div class="note-section w-100 p-3 sub-title">
      <h5 class="mb-3 ">
        <i class="fa-solid fa-sack-dollar"></i> Fine Fees:
      </h5>
      <div class="appointments-box bg-white shadow-sm p-3 rounded">
        <input type="number" name="FineFees" [(ngModel)]="FineFees" class="form-control" id="note-area" rows="4" placeholder="Enter Fine Fees...">
      </div>
    </div>
  
    
  </div>
  
  
  
  
  <!-- Footer -->
  <div class="footer d-flex justify-content-end align-items-center mt-4">
      
  <button class="btn btn-secondary" (click)="Close()">
    <i class="fas fa-times me-2 "></i>Close
  </button>
  <button class="btn Issue "  [disabled]="isExpired || !licenseInfo?.isActive || !this.found" (click)="Detain()">
    <i class="fas fa-check-circle me-2"></i>Detain License
  </button>
  </div>
  </div>
